<body>
    <main id="main" class="main">
        <section class="section">
            <div class="row">
                <div class="col-lg-12">

                    <div class="card">
                      <div class="card-body">
                        <h3>User profile</h3>
                        <p>Please use the form below to change your personal data</p>
          
                        <!-- Browser Default Validation -->
                        <form [formGroup]="userFormGroup" class="row g-3 needs-validation" [ngClass]="{
                          'was-validated': isSubmitted && userFormGroup.invalid,
                          'novalidate': !isSubmitted
                        }">
                            <div class="col-md-4">
                                <label for="firstName" class="form-label">First name</label>
                                <input type="text" class="form-control" id="firstName" formControlName="firstName"  required >
                              </div>
                              <div class="col-md-4">
                                <label for="lastName" class="form-label">Last name</label>
                                <input type="text" class="form-control" id="lastName"  formControlName="lastName" required>
                              </div>
                              <!-- <div class="col-md-4">
                                <label for="email" class="form-label">Email</label>
                                <div class="input-group">
                                  <input type="text" class="form-control" id="email" formControlName="email" required>
                                </div>
                              </div> -->
                              <div class="col-md-4">
                                <label for="username" class="form-label">Username</label>
                                <div class="input-group">
                                  <input type="text" class="form-control" id="username" formControlName="username" required>
                                </div>
                              </div>
                             
                              <!-- @if (!isInEditMode) { -->
                                <div class="col-md-4">
                                  
                                  <div class="form-check form-switch" (change)="onPasswordFieldCheckedChanged()">
                                    <input class="form-check-input" type="checkbox" id="isPasswordFieldEnabled">
                                    <label class="form-check-label" for="isPasswordFieldEnabled">Change password</label>
                                  </div>
                                  <div class="input-group">
                                    <input type="password" class="form-control" id="password" formControlName="password" [readOnly]="!isPasswordFieldEnabled">
                                  </div>
                                </div>
                              <!-- }    -->
                              <div class="col-md-4">
                                <label for="phoneNumber" class="form-label">Phone number</label>
                                <div class="input-group">
                                  <input type="text" class="form-control" id="phoneNumber"  formControlName="phoneNumber">
                                </div>
                              </div>
                              
                              <div class="col-md-4">
                                <label for="repairShop" class="form-label">Repair shop</label>
                                <div class="input-group">
                                  <input type="text" class="form-control" id="repairShop"  formControlName="repairShop" readonly>
                                </div>
                              </div>
                             <div class="col-md-4">
                                <label for="role" class="form-label">Role</label>
                                <div class="input-group">
                                  <input type="text" class="form-control" id="role"  formControlName="role" readonly>
                                </div>
                              </div>
                              
                              @if (errorMessage) {
                                <div class="alert alert-danger" role="alert">
                                    {{errorMessage}}
                                </div>
                                }
                                <button (click)="onSubmit()" type="submit" mat-button>Save</button>
                        </form>
                        <!-- End Browser Default Validation -->
                      
                      </div>
                    </div>
          
                  </div>
            </div>
        </section>
    </main><!-- End #main -->
</body>